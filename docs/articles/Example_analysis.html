<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survival Analysis with visR â€¢ visR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Survival Analysis with visR">
<meta property="og:description" content="">
<meta property="og:image" content="https://openpharma.github.io/visR/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">visR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Alluvial.html">Example alluvial plot analysis using visR</a>
    </li>
    <li>
      <a href="../articles/Example_analysis.html">Survival Analysis with visR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/openpharma/visR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Survival Analysis with visR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/openpharma/visR/blob/master/vignettes/Example_analysis.Rmd"><code>vignettes/Example_analysis.Rmd</code></a></small>
      <div class="hidden name"><code>Example_analysis.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This short tutorial illustrates a typical use case in clinical development - the analysis of time to a certain event (e.g., death) in different populations. Typically, data obtained in randomized clinical trials (RCT) can be used to estimate the overall survival of patients in one group (e.g., treated with drug X) vs another group (e.g., treated with drug Y) and thus determine if there is a difference between these treatments.</p>
<p>For a more thorough introduction to Survival Analysis, we recommend the following tutorial: <a href="https://bioconnector.github.io/workshops/r-survival.html" class="uri">https://bioconnector.github.io/workshops/r-survival.html</a></p>
<p>In this example, we will work with patient data from NCCTG Lung Cancer dataset that is part of the <code>survival</code> package.</p>
</div>
<div id="global-document-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#global-document-setup" class="anchor"></a>Global Document Setup</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Constants</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">DATASET &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"NCCTG Lung Cancer Dataset (from survival package "</span>, </a>
<a class="sourceLine" id="cb1-3" data-line-number="3">                  <span class="kw"><a href="https://rdrr.io/r/utils/packageDescription.html">packageVersion</a></span>(<span class="st">"survival"</span>), <span class="st">")"</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># Globql formatting options</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">digits =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co"># Global ggplot settings</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="kw">theme_set</span>(<span class="kw">theme_classic</span>())</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co"># Global table settings </span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">DT.options =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">pageLength =</span> <span class="dv">10</span>, </a>
<a class="sourceLine" id="cb1-13" data-line-number="13">                          <span class="dt">language =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">search =</span> <span class="st">'Filter:'</span>), </a>
<a class="sourceLine" id="cb1-14" data-line-number="14">                          <span class="dt">scrollX =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
</div>
<div id="data-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data preparation</h2>
<p>The variable names are changed to align with CDISC ADaM controlled terminology.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(lung)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">lung_cohort &lt;-<span class="st"> </span>lung <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="dt">ECOG =</span> ph.ecog,</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">                  <span class="dt">Karnofsky =</span> ph.karno,</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">                  <span class="dt">SITEID =</span> inst,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">                  <span class="dt">CNSR =</span> status,</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">                  <span class="dt">AVAL =</span> time,</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">                  <span class="dt">WEIGHT =</span> wt.loss</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">                 ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">USUBJID =</span> <span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"Pat%03d"</span>, <span class="kw">row_number</span>()),</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">                  <span class="dt">SEX =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw">if_else</span>(sex <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="st">"male"</span>, <span class="st">"female"</span>)),</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">                  <span class="dt">CNSR =</span> <span class="kw">if_else</span>(CNSR <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">                  <span class="dt">SUBGR1 =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw">case_when</span>(ECOG <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> "0 asymptomatic"</span>,</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">                                            ECOG <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> "1 ambulatory"</span>,</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">                                            ECOG <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> "2 in bed less than 50% of day"</span>,</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">                                            ECOG <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">~</span><span class="st"> "3 in bed more than 50% of day"</span>,</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">                                            ECOG <span class="op">==</span><span class="st"> </span><span class="dv">4</span> <span class="op">~</span><span class="st"> "4 bedbound"</span>,</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">                                            ECOG <span class="op">==</span><span class="st"> </span><span class="dv">5</span> <span class="op">~</span><span class="st"> "5 dead"</span>)</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">                                 ),</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">                  <span class="dt">AGEGR1 =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw">case_when</span>(age <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span> <span class="op">~</span><span class="st"> "&lt; 30y"</span>,</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">                                            age <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span> <span class="op">&amp;</span><span class="st"> </span>age <span class="op">&lt;=</span><span class="st"> </span><span class="dv">50</span> <span class="op">~</span><span class="st"> "30-50y"</span>,</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">                                            age <span class="op">&gt;</span><span class="st"> </span><span class="dv">50</span> <span class="op">&amp;</span><span class="st"> </span>age <span class="op">&lt;=</span><span class="st"> </span><span class="dv">70</span> <span class="op">~</span><span class="st"> "51-70y"</span>,</a>
<a class="sourceLine" id="cb2-24" data-line-number="24">                                            age <span class="op">&gt;</span><span class="st"> </span><span class="dv">70</span> <span class="op">~</span><span class="st"> "&gt; 70y"</span>),</a>
<a class="sourceLine" id="cb2-25" data-line-number="25">                                  <span class="dt">levels=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"&lt; 30y"</span>, <span class="st">"30-50y"</span>, <span class="st">"51-70y"</span>, <span class="st">"&gt; 70y"</span>)</a>
<a class="sourceLine" id="cb2-26" data-line-number="26">                                 )</a>
<a class="sourceLine" id="cb2-27" data-line-number="27">                 ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(USUBJID, SITEID, SEX, AGEGR1, WEIGHT, SUBGR1, AVAL, CNSR)</a>
<a class="sourceLine" id="cb2-29" data-line-number="29">  </a>
<a class="sourceLine" id="cb2-30" data-line-number="30"></a>
<a class="sourceLine" id="cb2-31" data-line-number="31">knitr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(</a>
<a class="sourceLine" id="cb2-32" data-line-number="32">  <span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(lung_cohort, <span class="dv">10</span>), <span class="dt">caption =</span> <span class="st">'A table of the first 10 observations of `lung_cohort`.'</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33">)</a></code></pre></div>
<table class="table">
<caption>A table of the first 10 observations of <code>lung_cohort</code>.</caption>
<thead><tr class="header">
<th align="left">USUBJID</th>
<th align="right">SITEID</th>
<th align="left">SEX</th>
<th align="left">AGEGR1</th>
<th align="right">WEIGHT</th>
<th align="left">SUBGR1</th>
<th align="right">AVAL</th>
<th align="right">CNSR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Pat001</td>
<td align="right">3</td>
<td align="left">male</td>
<td align="left">&gt; 70y</td>
<td align="right">NA</td>
<td align="left">1 ambulatory</td>
<td align="right">306</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Pat002</td>
<td align="right">3</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">15</td>
<td align="left">0 asymptomatic</td>
<td align="right">455</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Pat003</td>
<td align="right">3</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">15</td>
<td align="left">0 asymptomatic</td>
<td align="right">1010</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Pat004</td>
<td align="right">5</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">11</td>
<td align="left">1 ambulatory</td>
<td align="right">210</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Pat005</td>
<td align="right">1</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">0</td>
<td align="left">0 asymptomatic</td>
<td align="right">883</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Pat006</td>
<td align="right">12</td>
<td align="left">male</td>
<td align="left">&gt; 70y</td>
<td align="right">0</td>
<td align="left">1 ambulatory</td>
<td align="right">1022</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Pat007</td>
<td align="right">7</td>
<td align="left">female</td>
<td align="left">51-70y</td>
<td align="right">10</td>
<td align="left">2 in bed less than 50% of day</td>
<td align="right">310</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Pat008</td>
<td align="right">11</td>
<td align="left">female</td>
<td align="left">&gt; 70y</td>
<td align="right">1</td>
<td align="left">2 in bed less than 50% of day</td>
<td align="right">361</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Pat009</td>
<td align="right">1</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">16</td>
<td align="left">1 ambulatory</td>
<td align="right">218</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Pat010</td>
<td align="right">7</td>
<td align="left">male</td>
<td align="left">51-70y</td>
<td align="right">34</td>
<td align="left">2 in bed less than 50% of day</td>
<td align="right">166</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="attrition-table" class="section level2">
<h2 class="hasAnchor">
<a href="#attrition-table" class="anchor"></a>Attrition Table</h2>
<p>For this exercise we will only include patients with (1) ECOG available (2) non-missing weight-loss data (3) non missing censoring information and (4) positive follow-up time in our analysis.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">cohort_attrition &lt;-<span class="st"> </span><span class="kw"><a href="../reference/vr_attrition_table.html">vr_attrition_table</a></span>(</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="dt">data =</span> lung_cohort,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">criteria_descriptions =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"1. ECOG available"</span>, </a>
<a class="sourceLine" id="cb3-5" data-line-number="5">                            <span class="st">"2. Weight loss data available"</span>, </a>
<a class="sourceLine" id="cb3-6" data-line-number="6">                            <span class="st">"3. Non-missing censoring status"</span>,</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">                            <span class="st">"4. Positive follow up time"</span>),</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  <span class="dt">criteria_conditions   =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"!is.na(SUBGR1)"</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                            <span class="st">"!is.na(WEIGHT)"</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                            <span class="st">"!is.na(CNSR)"</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                            <span class="st">"AVAL &gt;= 0"</span>),</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  <span class="dt">subject_column_name   =</span> <span class="st">'USUBJID'</span>)</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"> </a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="kw"><a href="../reference/vr_render_table.html">vr_render_table</a></span>(<span class="dt">data =</span> cohort_attrition, </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">                <span class="dt">title =</span> <span class="st">"Attrition Table"</span>, </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">                <span class="dt">caption =</span> <span class="st">"Summary of samples fulfilling inclusion/exclusion criteria"</span>, </a>
<a class="sourceLine" id="cb3-18" data-line-number="18">                <span class="dt">datasource =</span> DATASET, </a>
<a class="sourceLine" id="cb3-19" data-line-number="19">                <span class="dt">engine =</span> <span class="st">"gt"</span>)</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#pjckgrzkvf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pjckgrzkvf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pjckgrzkvf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pjckgrzkvf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pjckgrzkvf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pjckgrzkvf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pjckgrzkvf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pjckgrzkvf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pjckgrzkvf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pjckgrzkvf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pjckgrzkvf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pjckgrzkvf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#pjckgrzkvf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pjckgrzkvf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pjckgrzkvf .gt_from_md > :first-child {
  margin-top: 0;
}

#pjckgrzkvf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pjckgrzkvf .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pjckgrzkvf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#pjckgrzkvf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pjckgrzkvf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#pjckgrzkvf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pjckgrzkvf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pjckgrzkvf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pjckgrzkvf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pjckgrzkvf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#pjckgrzkvf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pjckgrzkvf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#pjckgrzkvf .gt_left {
  text-align: left;
}

#pjckgrzkvf .gt_center {
  text-align: center;
}

#pjckgrzkvf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pjckgrzkvf .gt_font_normal {
  font-weight: normal;
}

#pjckgrzkvf .gt_font_bold {
  font-weight: bold;
}

#pjckgrzkvf .gt_font_italic {
  font-style: italic;
}

#pjckgrzkvf .gt_super {
  font-size: 65%;
}

#pjckgrzkvf .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="pjckgrzkvf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="6" class="gt_heading gt_title gt_font_normal" style>Attrition Table</th>
    </tr>
<tr>
<th colspan="6" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Summary of samples fulfilling inclusion/exclusion criteria</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Criteria</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Condition</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">Remaining N</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Remaining %</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">Excluded N</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Excluded %</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">Total cohort size</td>
      <td class="gt_row gt_left">none</td>
      <td class="gt_row gt_center">228.00</td>
      <td class="gt_row gt_right">100.00</td>
      <td class="gt_row gt_center">0.00</td>
      <td class="gt_row gt_right">0.00</td>
    </tr>
<tr>
<td class="gt_row gt_left">1. ECOG available</td>
      <td class="gt_row gt_left">!is.na(SUBGR1)</td>
      <td class="gt_row gt_center">227.00</td>
      <td class="gt_row gt_right">99.56</td>
      <td class="gt_row gt_center">0.00</td>
      <td class="gt_row gt_right">0.00</td>
    </tr>
<tr>
<td class="gt_row gt_left">2. Weight loss data available</td>
      <td class="gt_row gt_left">!is.na(WEIGHT)</td>
      <td class="gt_row gt_center">213.00</td>
      <td class="gt_row gt_right">93.42</td>
      <td class="gt_row gt_center">0.00</td>
      <td class="gt_row gt_right">0.00</td>
    </tr>
<tr>
<td class="gt_row gt_left">3. Non-missing censoring status</td>
      <td class="gt_row gt_left">!is.na(CNSR)</td>
      <td class="gt_row gt_center">213.00</td>
      <td class="gt_row gt_right">93.42</td>
      <td class="gt_row gt_center">0.00</td>
      <td class="gt_row gt_right">0.00</td>
    </tr>
<tr>
<td class="gt_row gt_left">4. Positive follow up time</td>
      <td class="gt_row gt_left">AVAL &gt;= 0</td>
      <td class="gt_row gt_center">213.00</td>
      <td class="gt_row gt_right">93.42</td>
      <td class="gt_row gt_center">0.00</td>
      <td class="gt_row gt_right">0.00</td>
    </tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="6">Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)</td>
    </tr></tfoot>
</table></div>
</div>
<div id="attrition-diagram" class="section level2">
<h2 class="hasAnchor">
<a href="#attrition-diagram" class="anchor"></a>Attrition Diagram</h2>
<p>Under construction.</p>
<!-- ```{r attritionFig} -->
<!-- # complement_descriptions <- c( -->
<!-- #     "Having exclusion criterion: non ECOG", -->
<!-- #     "Having exclusion criterion: missing weight loss ", -->
<!-- #     "Having exclusion criterion: missing censoring status", -->
<!-- #     "Having exclusion criterion: negative follow up time" -->
<!-- # ) -->
<!-- # Create attrition flowchart -->
<!-- #attrition_chart_fn <- "../docs/articles/Example_analysis_files/figure-html/attrition_diagram.svg" -->
<!-- #appears to be broken -->
<!-- # attrition_flow <- vr_attrition( -->
<!-- #   N_array = cohort_attrition$`Remaining N`, -->
<!-- #   descriptions = cohort_attrition$Criteria, -->
<!-- #   complement_descriptions = complement_descriptions, -->
<!-- #   output_path = file.path(tempdir(), "attrition_diagram.svg")) -->
<!-- ``` -->
<!-- ```{r attritionFigShow, fig.cap=paste("Attrition Diagram of BRCA cohort. Data Source: ", DATASET), results='asis'} -->
<!-- #knitr::include_graphics(attrition_chart_fn) -->
<!-- ``` -->
</div>
<div id="cohort-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#cohort-overview" class="anchor"></a>Cohort Overview</h2>
<p>To descrbe the population <code>vr_table_one</code> can be used.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># some modifications to the table for nice printing of categories</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">lung_cohort_tab1 &lt;-<span class="st"> </span>lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">CNSR =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw">case_when</span>(CNSR <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> "Alive/Censored"</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                                        CNSR <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> "Dead"</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                                        <span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(CNSR) <span class="op">~</span><span class="st"> "Missing"</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">                                        )</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">                              )</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">                ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(AVAL) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(AGEGR1) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(SUBGR1)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>SITEID)</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co"># visR table1 convenience function</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="kw"><a href="../reference/vr_table_one.html">vr_table_one</a></span>(lung_cohort_tab1, <span class="dt">title =</span> <span class="st">"Overview over Lung Cancer patients"</span>,</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">             <span class="dt">caption =</span> <span class="st">"Baseline characteristics of study cohort stratified by treatment type"</span>,</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">             <span class="dt">datasource =</span> DATASET, <span class="dt">groupCols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"SEX"</span>))</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jvugjrztxe .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jvugjrztxe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvugjrztxe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jvugjrztxe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jvugjrztxe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvugjrztxe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvugjrztxe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jvugjrztxe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jvugjrztxe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jvugjrztxe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jvugjrztxe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jvugjrztxe .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jvugjrztxe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jvugjrztxe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jvugjrztxe .gt_from_md > :first-child {
  margin-top: 0;
}

#jvugjrztxe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jvugjrztxe .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jvugjrztxe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jvugjrztxe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvugjrztxe .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jvugjrztxe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvugjrztxe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jvugjrztxe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvugjrztxe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvugjrztxe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jvugjrztxe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvugjrztxe .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jvugjrztxe .gt_left {
  text-align: left;
}

#jvugjrztxe .gt_center {
  text-align: center;
}

#jvugjrztxe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jvugjrztxe .gt_font_normal {
  font-weight: normal;
}

#jvugjrztxe .gt_font_bold {
  font-weight: bold;
}

#jvugjrztxe .gt_font_italic {
  font-style: italic;
}

#jvugjrztxe .gt_super {
  font-size: 65%;
}

#jvugjrztxe .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="jvugjrztxe" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="4" class="gt_heading gt_title gt_font_normal" style>Overview over Lung Cancer patients</th>
    </tr>
<tr>
<th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Baseline characteristics of study cohort stratified by treatment type</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">female</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">male</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Overall</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">Sample</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">N</td>
      <td class="gt_row gt_left">90</td>
      <td class="gt_row gt_left">137</td>
      <td class="gt_row gt_left">227</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">USUBJID</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Unique values</td>
      <td class="gt_row gt_left">90</td>
      <td class="gt_row gt_left">137</td>
      <td class="gt_row gt_left">227</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Missing (%)</td>
      <td class="gt_row gt_left">0 (0%)</td>
      <td class="gt_row gt_left">0 (0%)</td>
      <td class="gt_row gt_left">0 (0%)</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">AGEGR1</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">30-50y</td>
      <td class="gt_row gt_left">12 (13.3%)</td>
      <td class="gt_row gt_left">14 (10.2%)</td>
      <td class="gt_row gt_left">26 (11.5%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">51-70y</td>
      <td class="gt_row gt_left">63 (70.0%)</td>
      <td class="gt_row gt_left">92 (67.2%)</td>
      <td class="gt_row gt_left">155 (68.3%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">&gt; 70y</td>
      <td class="gt_row gt_left">15 (16.7%)</td>
      <td class="gt_row gt_left">31 (22.6%)</td>
      <td class="gt_row gt_left">46 (20.3%)</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">WEIGHT</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Mean (SD)</td>
      <td class="gt_row gt_left">7.77 (13.2)</td>
      <td class="gt_row gt_left">11.1 (12.9)</td>
      <td class="gt_row gt_left">9.73 (13.1)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Median (IQR)</td>
      <td class="gt_row gt_left">4 (0-11)</td>
      <td class="gt_row gt_left">8 (0.5-18)</td>
      <td class="gt_row gt_left">7 (0-15)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Min-max</td>
      <td class="gt_row gt_left">-24-52</td>
      <td class="gt_row gt_left">-13-68</td>
      <td class="gt_row gt_left">-24-68</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Missing</td>
      <td class="gt_row gt_left">4 (4.44%)</td>
      <td class="gt_row gt_left">10 (7.3%)</td>
      <td class="gt_row gt_left">14 (6.17%)</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">SUBGR1</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">0 asymptomatic</td>
      <td class="gt_row gt_left">27 (30.0%)</td>
      <td class="gt_row gt_left">36 (26.28%)</td>
      <td class="gt_row gt_left">63 (27.753%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">1 ambulatory</td>
      <td class="gt_row gt_left">42 (46.7%)</td>
      <td class="gt_row gt_left">71 (51.82%)</td>
      <td class="gt_row gt_left">113 (49.780%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">2 in bed less than 50% of day</td>
      <td class="gt_row gt_left">21 (23.3%)</td>
      <td class="gt_row gt_left">29 (21.17%)</td>
      <td class="gt_row gt_left">50 (22.026%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">3 in bed more than 50% of day</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">1 (0.73%)</td>
      <td class="gt_row gt_left">1 (0.441%)</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">AVAL</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Mean (SD)</td>
      <td class="gt_row gt_left">339 (203)</td>
      <td class="gt_row gt_left">285 (213)</td>
      <td class="gt_row gt_left">306 (211)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Median (IQR)</td>
      <td class="gt_row gt_left">292 (195-448)</td>
      <td class="gt_row gt_left">225 (147-371)</td>
      <td class="gt_row gt_left">259 (168-399)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Min-max</td>
      <td class="gt_row gt_left">5-965</td>
      <td class="gt_row gt_left">11-1022</td>
      <td class="gt_row gt_left">5-1022</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Missing</td>
      <td class="gt_row gt_left">0 (0%)</td>
      <td class="gt_row gt_left">0 (0%)</td>
      <td class="gt_row gt_left">0 (0%)</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">CNSR</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Alive/Censored</td>
      <td class="gt_row gt_left">37 (41.1%)</td>
      <td class="gt_row gt_left">26 (19%)</td>
      <td class="gt_row gt_left">63 (27.8%)</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">Dead</td>
      <td class="gt_row gt_left">53 (58.9%)</td>
      <td class="gt_row gt_left">111 (81%)</td>
      <td class="gt_row gt_left">164 (72.2%)</td>
    </tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="4">Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)</td>
    </tr></tfoot>
</table></div>
</div>
<div id="kaplan-meier-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#kaplan-meier-analysis" class="anchor"></a>Kaplan-Meier analysis</h2>
<div id="cohort-selection" class="section level3">
<h3 class="hasAnchor">
<a href="#cohort-selection" class="anchor"></a>Cohort Selection</h3>
<p>Select cohort for the time-to-event analysis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">lung_cohort &lt;-<span class="st"> </span>lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(SUBGR1),</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                <span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(WEIGHT),</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">                <span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(CNSR),</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                 AVAL <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">                )</a></code></pre></div>
</div>
<div id="kaplan-meier-estimation" class="section level3">
<h3 class="hasAnchor">
<a href="#kaplan-meier-estimation" class="anchor"></a>Kaplan Meier estimation</h3>
<p>The function looks for variables AVAL, CNSR in the data to construct the survival formula <code>survival::survfit.formula(data = data, formula = Surv(AVAL, 1-CNSR) ~ strata), ...))</code>. This wrapper function is compatible with <code><a href="../reference/pipe.html">%&gt;%</a></code> and purrr::map functions without losing traceability of the dataset name.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/vr_KM_est.html">vr_KM_est</a></span>(<span class="dt">strata =</span> <span class="st">"SEX"</span>, <span class="dt">conf.int =</span> <span class="fl">0.90</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; Call: survfit(formula = Surv(AVAL, 1 - CNSR) ~ SEX, data = lung_cohort, </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;     conf.int = 0.9)</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;              n events median 0.9LCL 0.9UCL</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; SEX=female  86     37    529    382    740</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; SEX=male   127     25    840    806     NA</span></a></code></pre></div>
</div>
<div id="kaplan-meier-curve" class="section level3">
<h3 class="hasAnchor">
<a href="#kaplan-meier-curve" class="anchor"></a>Kaplan-Meier Curve</h3>
<p>The Kaplan Meier plot is build using the pipe framework.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/vr_KM_est.html">vr_KM_est</a></span>(<span class="dt">strata =</span> <span class="st">"SEX"</span>, <span class="dt">conf.int =</span> <span class="fl">0.90</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/vr_plot.html">vr_plot</a></span>(<span class="dt">legend_position =</span> <span class="st">"right"</span>, <span class="dt">x_unit =</span> <span class="st">"Days"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/add_CI.html">add_CI</a></span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">style =</span> <span class="st">"ribbon"</span>, <span class="dt">linetype =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/add_CNSR.html">add_CNSR</a></span>(<span class="dt">shape =</span> <span class="dv">3</span>, <span class="dt">size =</span> <span class="dv">2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="../reference/add_risktable.html">add_risktable</a></span>(<span class="dt">min_at_risk =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">                <span class="dt">display=</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"n.risk"</span>),</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">                <span class="dt">title =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"At risk"</span>)</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">               )</a></code></pre></div>
<div class="figure">
<img src="Example_analysis_files/figure-html/unnamed-chunk-4-1.png" alt="Comparison of survival in male and female lung cancer patients" width="768"><p class="caption">
Comparison of survival in male and female lung cancer patients
</p>
</div>
</div>
<div id="summary-of-kaplan-meier-curve" class="section level3">
<h3 class="hasAnchor">
<a href="#summary-of-kaplan-meier-curve" class="anchor"></a>Summary of Kaplan Meier Curve</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/vr_KM_est.html">vr_KM_est</a></span>(<span class="dt">strata =</span> <span class="st">"SEX"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/get_summary.html">get_summary</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/vr_render_table.html">vr_render_table</a></span>(<span class="st">"Overall Survival"</span>, <span class="st">"Median survival times in days for each strata"</span>, DATASET)</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fkjhbshefc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fkjhbshefc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fkjhbshefc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fkjhbshefc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fkjhbshefc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fkjhbshefc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fkjhbshefc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fkjhbshefc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fkjhbshefc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fkjhbshefc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fkjhbshefc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fkjhbshefc .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fkjhbshefc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fkjhbshefc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fkjhbshefc .gt_from_md > :first-child {
  margin-top: 0;
}

#fkjhbshefc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fkjhbshefc .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fkjhbshefc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#fkjhbshefc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fkjhbshefc .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#fkjhbshefc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fkjhbshefc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fkjhbshefc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fkjhbshefc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fkjhbshefc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#fkjhbshefc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fkjhbshefc .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#fkjhbshefc .gt_left {
  text-align: left;
}

#fkjhbshefc .gt_center {
  text-align: center;
}

#fkjhbshefc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fkjhbshefc .gt_font_normal {
  font-weight: normal;
}

#fkjhbshefc .gt_font_bold {
  font-weight: bold;
}

#fkjhbshefc .gt_font_italic {
  font-style: italic;
}

#fkjhbshefc .gt_super {
  font-size: 65%;
}

#fkjhbshefc .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="fkjhbshefc" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="7" class="gt_heading gt_title gt_font_normal" style>Overall Survival</th>
    </tr>
<tr>
<th colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Median survival times in days for each strata</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">strata</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">No. of subjects</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">No. of events</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Median(surv.time)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">0.95LCL</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">0.95UCL</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">0.95CI</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">SEX=female</td>
      <td class="gt_row gt_right">86.00</td>
      <td class="gt_row gt_right">37.00</td>
      <td class="gt_row gt_right">529.00</td>
      <td class="gt_row gt_right">376.00</td>
      <td class="gt_row gt_right">NA</td>
      <td class="gt_row gt_left">(376;NA)</td>
    </tr>
<tr>
<td class="gt_row gt_left">SEX=male</td>
      <td class="gt_row gt_right">127.00</td>
      <td class="gt_row gt_right">25.00</td>
      <td class="gt_row gt_right">840.00</td>
      <td class="gt_row gt_right">806.00</td>
      <td class="gt_row gt_right">NA</td>
      <td class="gt_row gt_left">(806;NA)</td>
    </tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="7">Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)</td>
    </tr></tfoot>
</table></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">lung_cohort <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/vr_KM_est.html">vr_KM_est</a></span>(<span class="dt">strata =</span> <span class="st">"SEX"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/get_pvalue.html">get_pvalue</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/vr_render_table.html">vr_render_table</a></span>(<span class="st">"Equality between Strata"</span>, <span class="st">"Summary table with test of equality over strata"</span>, DATASET)</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#tnmoqlqurv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tnmoqlqurv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tnmoqlqurv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tnmoqlqurv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tnmoqlqurv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tnmoqlqurv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tnmoqlqurv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tnmoqlqurv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tnmoqlqurv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tnmoqlqurv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tnmoqlqurv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tnmoqlqurv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#tnmoqlqurv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tnmoqlqurv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tnmoqlqurv .gt_from_md > :first-child {
  margin-top: 0;
}

#tnmoqlqurv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tnmoqlqurv .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tnmoqlqurv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#tnmoqlqurv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tnmoqlqurv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#tnmoqlqurv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tnmoqlqurv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tnmoqlqurv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tnmoqlqurv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tnmoqlqurv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#tnmoqlqurv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tnmoqlqurv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#tnmoqlqurv .gt_left {
  text-align: left;
}

#tnmoqlqurv .gt_center {
  text-align: center;
}

#tnmoqlqurv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tnmoqlqurv .gt_font_normal {
  font-weight: normal;
}

#tnmoqlqurv .gt_font_bold {
  font-weight: bold;
}

#tnmoqlqurv .gt_font_italic {
  font-style: italic;
}

#tnmoqlqurv .gt_super {
  font-size: 65%;
}

#tnmoqlqurv .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="tnmoqlqurv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="4" class="gt_heading gt_title gt_font_normal" style>Equality between Strata</th>
    </tr>
<tr>
<th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Summary table with test of equality over strata</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Equality across strata</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Chisq</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">df</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">p-value</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">Log-Rank</td>
      <td class="gt_row gt_right">6.68</td>
      <td class="gt_row gt_right">1.00</td>
      <td class="gt_row gt_left">  0.01</td>
    </tr>
<tr>
<td class="gt_row gt_left">Wilcoxon</td>
      <td class="gt_row gt_right">5.09</td>
      <td class="gt_row gt_right">1.00</td>
      <td class="gt_row gt_left"> 0.024</td>
    </tr>
<tr>
<td class="gt_row gt_left">Tarone-Ware</td>
      <td class="gt_row gt_right">4.49</td>
      <td class="gt_row gt_right">1.00</td>
      <td class="gt_row gt_left"> 0.034</td>
    </tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="4">Data Source: NCCTG Lung Cancer Dataset (from survival package 3.1.11)</td>
    </tr></tfoot>
</table></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#global-document-setup">Global Document Setup</a></li>
      <li><a href="#data-preparation">Data preparation</a></li>
      <li><a href="#attrition-table">Attrition Table</a></li>
      <li><a href="#attrition-diagram">Attrition Diagram</a></li>
      <li><a href="#cohort-overview">Cohort Overview</a></li>
      <li><a href="#kaplan-meier-analysis">Kaplan-Meier analysis</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Diego Saldana, Charlotta Fruechtenicht, Mark Baillie, Marc Vandemeulebroecke, Thanos Siadimas, Pawel Kawski, Steven Haesendonckx, Pelagia Alexandra Papadopoulou, Tim Treis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
